<div class="d-flex justify-content-center justify-content-md-center h-100">
  <section class="form-section">
    <form [formGroup]="formGroup">
      <div class="form-group">

        <input type="text" class="title"
          placeholder="Enter recipe name"
          formControlName="name">
      </div>
<!--
      <div  *ngIf="isFormDisabled;">

        <div>
          <p>Ingrediente:</p>
        <div *ngFor="let ingredients of ingredientsList.value">
          {{ingredients.name}}
        </div>
      </div>
      <div>
        <p><span>Selected filter: </span><b>{{test2.value}}</b></p>
        <p><span>Selected type: </span><b>{{test3.value}}</b></p>
      </div>

      </div>
    -->

      <div class="form-group">
        <p *ngIf="isFormDisabled; else notEditable">{{description}}</p>


        <ng-template #notEditable>
          <div class="ingred">
            <input type="text"
              placeholder="Add ingredients"
              formControlName="test" >
              <button (click)="additems()">Add</button>


          </div>

          <div>
              <label>Filters: </label>
              <select formControlName="test2" (change)="filterSelected()">
                <option *ngFor="let filter of filterssList" [value]="filter.name">{{filter.name}}</option>

              </select>


          </div>

            <div >
              <label>Select type:</label>
               <select formControlName="test3" (change)="selected()" >
                  <option  *ngFor="let typees of typeesList" [value]="typees" >{{typees}}</option>
                </select>
            </div>
          <textarea class="recipe-description" contenteditable="true" placeholder="Enter recipe description"
            formControlName="description">{{description}}</textarea>
        </ng-template>
      </div>
      <div class="form-group">
        <label> Is this a private recipe</label>
        <input type="checkbox" formControlName="access">
      </div>
      <br>

      <div class="photos">
        <label class="photos-title">Photos</label>

        <div class="photos-list">
          <div *ngIf="photos.length > 0; else noPhotos">

          </div>
          <ng-template #noPhotos>
            <label *ngIf="photos.length === 0">No photos available</label>
          </ng-template>

          <div class="add-photos" *ngIf="!isFormDisabled">
            <div class="photo-file-container">

              <img class="photo-file" *ngFor="let photo of photos" [src]="photo">
            </div>
            <br>
            <input #Image type="file" (change)="handleFileInput($event.target.files)" />
            <img class="photo-file" [src]="imageUrl">
          </div>

          <div class="added-photos" *ngIf="isFormDisabled">
            <img class="photo-file" *ngFor="let photo of photos" [src]="photo">
          </div>
        </div>

      </div>
      <br>

      <button type="button" *ngIf="isFormDisabled; else saveButton" (click)="startUpdating()"><span> Update
          Recipe</span></button>
      <ng-template #saveButton>
        <button type="button" (click)="save()"><span>Save Recipe</span></button>
      </ng-template>
    </form>

    <br>
    <div class="comments-title" *ngIf="isFormDisabled">
    </div>


    <hr>

    <div class="comments-section">
      <form [formGroup]="formGroupComment">
        <div class="comment-block" *ngIf="isFormDisabled">
          <div class="create_new_comment">
            <br>
            <div class="user_avatar">
              <img src="../../../assets/images/avatar.png" class="round">
            </div>
            <div class="stars">
              <li>
                <a><i (mouseover)="testStar(1)" class="fa" [ngClass]="ratingNumber > 0 ? 'fa-star': 'fa-star-o'"></i></a>
                <a><i (mouseover)="testStar(2)" class="fa" [ngClass]="ratingNumber > 1 ? 'fa-star': 'fa-star-o'"></i></a>
                <a><i (mouseover)="testStar(3)" class="fa" [ngClass]="ratingNumber > 2 ? 'fa-star': 'fa-star-o'"></i></a>
                <a><i (mouseover)="testStar(4)" class="fa" [ngClass]="ratingNumber > 3 ? 'fa-star': 'fa-star-o'"></i></a>
                <a><i (mouseover)="testStar(5)" class="fa" [ngClass]="ratingNumber > 4 ? 'fa-star': 'fa-star-o'"></i></a>
              </li>
            </div>
            <div class="input_comment">
              <input type="text" placeholder="Leave a comment" formControlName="comment">
              <div></div>
            </div>

            <br>
              <button type="button" class="button" *ngIf="isFormDisabled" (click)="postComment()">
                <span>Add comment</span>
              </button>
          </div>
          <hr>
        </div>
        <div *ngFor="let comment of commentsList">
          <div class="new_comment">
            <ul class="user_comment" style="margin-left: 50px;">
              <div class="user_avatar">
                <img src="../../../assets/images/avatar.png">
              </div>
              <div class="comment_body">
                <p>{{comment.comment}}</p>
              </div>

              Rating: {{comment.review}}/5

              <div class="delete-comment">
                <i class="fa fa-trash-o" (click)="deleteComment(comment.idRecipe, comment.id)"></i>
              </div>
              <div class="stars">
                <li>
                  <div *ngIf="comment.review == 0">
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                  </div>

                  <div *ngIf="comment.review == 1">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                  </div>
                  <div *ngIf="comment.review == 2">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                  </div>
                  <div *ngIf="comment.review == 3">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                  </div>
                  <div *ngIf="comment.review == 4">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                  </div>
                  <div *ngIf="comment.review == 5">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                  </div>
                </li>
              </div>
            </ul>
          </div>
          <hr>
        </div>
      </form>
    </div>
</section>
